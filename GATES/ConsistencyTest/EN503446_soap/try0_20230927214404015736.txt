1. Yes, the treatment is consistent with the diagnosis of a peptic ulcer. The prescribed medications include antibiotics to treat Helicobacter pylori, a common cause of ulcers, and omeprazole to reduce stomach acid and promote healing.

2. Yes, the diagnosis is consistent with the observations. The patient's chief complaint and history of presenting illness align with symptoms of a peptic ulcer.

3. Anemia test could be helpful. Peptic ulcers can sometimes cause internal bleeding, which can lead to anemia. 

4. Notable is the diagnosis of "acute with perforation". This is a serious condition that often requires immediate surgical intervention. It would be important to refer the patient for further evaluation if resources allow.